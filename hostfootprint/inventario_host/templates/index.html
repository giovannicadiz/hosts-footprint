{% extends "base.html" %}
{% block cuerpo %}
<style>
    thead{
        background-color: #007cc1;
        color: #fff;
        font-style: italic;
    }
    tfoot input {
        width: 100%;
        padding: 3px;
        box-sizing: border-box;
    }
    tfoot {
        display: table-header-group;
    }
    button {
        color: #000;
        font-size: 100%;
        width: 150px;
    }
    .Heading{
        display: table-row;
        text-align: center;
    }
    .Cell{
        display: table-cell;
        padding-right: 100px;
    }
    h5 {
        color: #000;
    }
    #tabla {
        font-size: 12px;
    }
    .datatablerowhighlight {
        background-color: #ECFFB3 !important;
    }
    body {
        background-color: #d9d9d9;
    }
    input:active {
        background-color: #ECFFB3;
    }
    input:focus {
        background-color: #ECFFB3;
    }
</style>
<body>

<div class="Heading">
    <!--h3>Inventario Host</h3-->
    <div class="Cell">
        {% if user.get_full_name == '' %}
            <h5>Bienvenido/a,   {{user.username}}</h5>
        {% else %}
            <h5>Bienvenido/a,  {{user.get_full_name}}</h5>
        {% endif %}
    </div>
    <hr>
    <div class="Cell">
        <h6><a href="{% url 'sign_out' %}"><button>Cerrar sesi&oacuten</button></a></h6>
    </div>
</div>
                <div class="row">
                    <div class="col-lg-12">
                        <table id="tabla" class="table table-striped table-bordered" cellspacing="0" width="100%" >
                            <thead>
                                <tr>
                                    <th class="text-center">HOSTNAME</th>
                                    <th class="text-center">IP</th>
                                    <th class="text-center">MAC</th>
                                    <th class="text-center">PAIS</th>
                                    <th class="text-center">KPI</th>
                                    <th class="text-center">EN OPE</th>
                                    <th class="text-center">Ambiente</th>
                                    <th class="text-center">UUNN</th>
                                    <th class="text-center">APLICACION</th>
                                    <th class="text-center">SERVICIO</th>
                                    <th class="text-center">FUNCIONAL</th>
                                    <th class="text-center">ROS</th>
                                    <th class="text-center">LIDER DATACENTER</th>
                                    <th class="text-center">OBS</th>
                                    <th class="text-center">NAGIOS</th>
                                    <th class="text-center">APM</th>
                                    <th class="text-center">SO</th>
                                    <th class="text-center">SO VERSION</th>
                                    <th class="text-center">SO PROVEEDOR</th>
                                    <th class="text-center">Es_Virtual</th>
                                    <th class="text-center">ROL</th>
                                    <th class="text-center">OIT</th>
                                    <th class="text-center">DOC</th>
                                </tr>
                            </thead>
                            <tfoot>
                                <tr>
                                    <th class="text-center">HOSTNAME</th>
                                    <th class="text-center">IP</th>
                                    <th class="text-center">MAC</th>
                                    <th class="text-center">PAIS</th>
                                    <th class="text-center">KPI</th>
                                    <th class="text-center">EN OPE</th>
                                    <th class="text-center">Ambiente</th>
                                    <th class="text-center">UUNN</th>
                                    <th class="text-center">APLICACION</th>
                                    <th class="text-center">SERVICIO</th>
                                    <th class="text-center">FUNCIONAL</th>
                                    <th class="text-center">ROS</th>
                                    <th class="text-center">LIDER DATACENTER</th>
                                    <th class="text-center">OBS</th>
                                    <th class="text-center">NAGIOS</th>
                                    <th class="text-center">APM</th>
                                    <th class="text-center">SO</th>
                                    <th class="text-center">SO VERSION</th>
                                    <th class="text-center">SO PROVEEDOR</th>
                                    <th class="text-center">Es_Virtual</th>
                                    <th class="text-center">ROL</th>
                                    <th class="text-center">OIT</th>
                                    <th class="text-center">DOC</th>
                                </tr>
                            </tfoot>
                            <tbody>
                            {% for lista in lista_inventario %}
                                <tr>
                                    <td>{{lista.HOSTNAME}}</td>
                                    <td>{{lista.IP}}</td>
                                    <td>{{lista.MAC}}</td>
                                    <td>{{lista.PAIS}}</td>
                                    <td>{{lista.KPI}}</td>
                                    <td>{{lista.En_Ope}}</td>
                                    <td>{{lista.AMBIENTE}}</td>
                                    <td>{{lista.UUNN}}</td>
                                    <td>{{lista.APLICACION}}</td>
                                    <td>{{lista.SERVICIO}}</td>
                                    <td>{{lista.FUNCIONAL}}</td>
                                    <td>{{lista.ROS}}</td>
                                    <td>{{lista.LIDER_DATACENTER}}</td>
                                    <td>{{lista.OBS}}</td>
                                    <td>{{lista.NAGIOS}}</td>
                                    <td>{{lista.APM}}</td>
                                    <td>{{lista.SO}}</td>
                                    <td>{{lista.SO_VERSION}}</td>
                                    <td>{{lista.SO_PROVEEDOR}}</td>
                                    <td>{{lista.Es_Virtual}}</td>
                                    <td>{{lista.ROL}}</td>
                                    <td>{{lista.OIT}}</td>
                                    <td>{{lista.DOC}}</td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>

</body>
{% endblock cuerpo %}
{% block js %}
<script>
$(document).ready( function () {
// Setup - add a text input to each footer cell
    $('#tabla tfoot th').each( function () {
        var title = $(this).text();
        $(this).html( '<input type="text"/>' );
    } );

    // DataTable
    var table = $('#tabla').DataTable({
        "lengthMenu" : [[10,25,50,-1], [10,25,50, "All"]],

    // Efecto mouse enter
        "fnDrawCallback": function(){
      $('table#tabla td').bind('mouseenter', function () { $(this).parent().children().each(function(){$(this).addClass('datatablerowhighlight');}); });
      $('table#tabla td').bind('mouseleave', function () { $(this).parent().children().each(function(){$(this).removeClass('datatablerowhighlight');}); });
    }
    });

    // Apply the search
    table.columns().every( function () {
        var that = this;

        $( 'input', this.footer() ).on( 'keyup change', function () {

            if ( that.search() !== this.value) {
                that
                    .search( this.value )
                    .draw();
            }
        } );
    } );} );

</script>
{% endblock js %}
